# DWH Assistant

**DWH Assistant** — это инструмент, который позволяет взаимодействовать с вашим хранилищем данных с помощью естественного языка. Преобразуя запросы на естественном языке в SQL-запросы с помощью Yandex GPT, DWH Assistant облегчает доступ к данным без необходимости знания SQL.

## Основные возможности

- **Естественный язык**: Формулируйте запросы на русском языке, и система преобразует их в SQL.
- **Генерация DBML-схемы**: Автоматически создает DBML-схему для указанных таблиц.
- **Веб-интерфейс**: Удобный чат-интерфейс для взаимодействия с ассистентом.

## Демонстрация

![Интерфейс DWH Assistant](https://github.com/alexey0101/dwh-assistant/raw/main/demo.gif)

### Пример использования

1. **Пользователь** вводит запрос на естественном языке:
   
   ```
   Покажи количество продаж по каждому региону за последний месяц.
   ```

2. **DWH Assistant** преобразует запрос в SQL и выполняет его:

   ```sql
   SELECT region, COUNT(sales) 
   FROM sales_table 
   WHERE sale_date >= NOW() - INTERVAL '1 month' 
   GROUP BY region;
   ```

3. **Результат** отображается в виде таблицы:

   | Регион     | Количество продаж |
   |------------|-------------------|
   | Москва     | 150               |
   | Санкт-Петербург | 120           |
   | Новосибирск | 80                |

## Установка


### Шаги установки

1. **Установите зависимости:**

   ```bash
   pip install -r requirements.txt
   ```

2. **Настройте переменные окружения:**

   Создайте файл `.env` в корне проекта и заполните его следующими данными:

   ```env
   PG_HOST=
   PG_PORT=
   PG_DBNAME=
   PG_USER=
   PG_PASSWORD=

   YANDEX_API_KEY=
   YANDEX_FOLDER_ID=

   TABLE_NAMES=наименования таблиц через запятую ("таблица1,таблица2" и т.д)
   ```

## Использование

1. **Запустите приложение:**

   ```bash
   python app.py
   ```

2. **Откройте веб-браузер и перейдите по адресу:**

   ```
   http://localhost:5000/
   ```

3. **Взаимодействуйте с ассистентом через чат-интерфейс.**
